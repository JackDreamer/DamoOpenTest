package com.dhc.jstestdemo;

import android.app.Application;
import android.content.Context;

/**
 * Created by 大漠dreamer on 2019/4/2.
 */

public class MyApplication extends Application {

    private static final class MyContext {
        private static final MyApplication application = new MyApplication();
    }

    //静态内部类
    public static Application getInstance() {
        return MyContext.application;
    }

    private static Context mContext;

    //双层校验
    public static Context getInstance2() {

        if (mContext != null) {
            synchronized (mContext) {
                if (mContext == null) {
                    return new MyApplication();
                }
            }
        }
        return mContext;
    }

    //饿汉式
    private static Context mContext2 = new MyApplication();

    //空构造函数为了让其可以实例化
    public MyApplication() {

    }

//    //懒汉式
//    public MyApplication() {
//        if (mContext2 == null) {
//            return new MyApplication();
//        }
//    }

    public static Context getInstance3() {
        return mContext2;
    }

    //单线程
    private static Context mContext3 = null;

    public static Context getInstance4() {
        if (mContext3 == null) {
            mContext3 = new MyApplication();
            return mContext3;
        }
        return mContext;
    }
}
