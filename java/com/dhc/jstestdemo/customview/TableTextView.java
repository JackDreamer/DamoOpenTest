package com.dhc.jstestdemo.customview;

import android.content.Context;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.util.AttributeSet;

/**
 * 自定义表格TextView
 * 1.自定义画笔，给画笔添加属性
 * 2.通过画笔，将笔画滑到画布上
 * Created by 大漠dreamer on 2019/3/21.
 */

public class TableTextView extends android.support.v7.widget.AppCompatTextView {

    Paint paint = new Paint();


    public TableTextView(Context context, AttributeSet attrs) {
        super(context, attrs);
        int color = Color.parseColor("#ccff33");
        paint.setColor(color);
        paint.setTextSize(10);
        paint.setStyle(Paint.Style.FILL);

    }

    @Override
    protected void onDraw(Canvas canvas) {
        super.onDraw(canvas);
        //给TextView画表格
        //给表格画左边第一条线，startX,startY设置为1，是有可能在不同的设备，从0开始画不出来
        canvas.drawLine(1, 0, 1, this.getHeight() - 1, paint);
        //给表格画上面的线
        canvas.drawLine(0, 1, this.getWidth() - 1, 1, paint);
        //给表格画下面的线
        canvas.drawLine(0, this.getHeight() - 1, this.getWidth() - 1, this.getHeight() - 1, paint);
        //给表格画右边的线
        canvas.drawLine(this.getWidth() - 1, 0, this.getWidth() - 1, this.getHeight() - 1, paint);

        //TODO 再给画布添加一个另外的颜色，用来测试动画
//        setCustomColor(Color.parseColor("#FF00FF"));
        canvas.drawColor(getCustomColor());

    }

    private int customColor;

    public int getCustomColor() {
        return customColor;
    }

    public void setCustomColor(int color) {
        this.customColor = color;
        invalidate();
    }


}
