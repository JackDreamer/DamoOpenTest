package com.dhc.jstestdemo.ipc.serial;

import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;

/**
 * Created by 大漠dreamer on 2019/3/11.
 */

public class Test {
    /**
     * 序列化
     * @param user
     * @throws Exception
     */
    public static void serialable(User user) throws Exception {
        ObjectOutputStream out = new ObjectOutputStream(
                new FileOutputStream("cache.txt"));
        out.writeObject(user);
        out.close();
    }

    /**
     * 反序列化
     * @return
     * @throws Exception
     */
    public static User unSerialable() throws Exception {
        ObjectInputStream in = new ObjectInputStream(new FileInputStream("cache.txt"));
        User user = (User) in.readObject();
        in.close();
        return user;
    }
}
